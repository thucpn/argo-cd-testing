# ğŸ“Š ArgoCD Architecture & Workflow Diagrams

TÃ i liá»‡u nÃ y chá»©a cÃ¡c sÆ¡ Ä‘á»“ vÃ  hÃ¬nh áº£nh minh há»a Ä‘á»ƒ báº¡n hiá»ƒu rÃµ hÆ¡n.

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Tá»•ng Quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GITHUB / GIT REPOSITORY                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  /apps                                                     â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ nginx-demo/                                           â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ deployment.yaml  (image: nginx:1.19)            â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ service.yaml     (type: LoadBalancer)           â”‚  â”‚
â”‚  â”‚  â”‚   â””â”€â”€ configmap.yaml                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ myapp/                                               â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ deployment.yaml                                  â”‚  â”‚
â”‚  â”‚  â”‚   â””â”€â”€ service.yaml                                     â”‚  â”‚
â”‚  â”‚  â””â”€â”€ kustomize-example/                                   â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ kustomization.yaml                               â”‚  â”‚
â”‚  â”‚      â””â”€â”€ overlays/                                         â”‚  â”‚
â”‚  â”‚          â”œâ”€â”€ dev/                                          â”‚  â”‚
â”‚  â”‚          â”œâ”€â”€ prod/                                         â”‚  â”‚
â”‚  â”‚          â””â”€â”€ staging/                                      â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  /argocd-apps                                              â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ nginx-demo.yaml    (Application CRD)                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ myapp.yaml         (Application CRD)                â”‚  â”‚
â”‚  â”‚  â””â”€â”€ kustomize-example-dev.yaml                          â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  EVERY COMMIT IS TRACKED & AUDITED                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
      Webhook         Polling         Manual Trigger
      (Instant)     (Every 3s)        (CLI/UI)
         â”‚               â”‚               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ARGOCD APPLICATION                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Frontend Layer                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Web UI (https://localhost:8080)                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ View apps & status                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Manual sync button                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Logs & history                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€ User management                                â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  API Layer                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  argocd-server (REST API)                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/v1/applications                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/v1/projects                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/v1/repositories                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Authentication (Dex SSO)                       â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  Controller Layer                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ repo-server        â”‚ application-controller         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Fetch from Git â”‚ â”‚ â”‚ Monitor & Sync Logic    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Render manifestsâ”‚ â”‚ â”‚ â”œâ”€â”€ Compare states      â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Cache results  â”‚ â”‚ â”‚ â”œâ”€â”€ Detect diffs        â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚                â”‚ â”‚ â”‚ â”œâ”€â”€ Apply to K8s        â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚                â”‚ â”‚ â”‚ â”œâ”€â”€ Health check        â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”‚                â”‚ â”‚ â”‚ â””â”€â”€ Update status       â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  Support                                                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€ dex-server (Authentication/SSO)                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€ redis (Cache)                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€ Notifications controller                        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ Apply YAML manifests
                       â”‚ kubectl apply
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              KUBERNETES CLUSTER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Namespaces & Resources                                   â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  argocd namespace:                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ ArgoCD Pods (running controllers)                    â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ Services & ConfigMaps                                â”‚  â”‚
â”‚  â”‚  â””â”€â”€ Secrets (credentials)                                â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  default namespace (deployed by ArgoCD):                   â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ Deployment: nginx-demo                               â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ Pod-1 (nginx:1.19)                               â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ Pod-2 (nginx:1.19)                               â”‚  â”‚
â”‚  â”‚  â”‚   â””â”€â”€ Pod-3 (nginx:1.19)                               â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ Service: nginx-demo (LoadBalancer:80)                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ ConfigMap: nginx-demo-config                         â”‚  â”‚
â”‚  â”‚  â””â”€â”€ Other resources...                                    â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  dev, prod namespaces (if using multi-env):                â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ Deployment: myapp-dev (replicas: 1)                  â”‚  â”‚
â”‚  â”‚  â””â”€â”€ Deployment: myapp-prod (replicas: 5)                 â”‚  â”‚
â”‚  â”‚                                                             â”‚  â”‚
â”‚  â”‚  âœ… ArgoCD liÃªn tá»¥c monitor: Cluster = Git?              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Workflow: Tá»« Code Thay Äá»•i Äáº¿n Deployment

### Scenario: Báº¡n update image version tá»« v1.0 â†’ v2.0

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: DEVELOPER COMMITS                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Developer thay Ä‘á»•i:                                             â”‚
â”‚  â”œâ”€â”€ vim apps/nginx-demo/deployment.yaml                       â”‚
â”‚  â””â”€â”€ image: nginx:1.19 â”€â”€â–º image: nginx:2.0                   â”‚
â”‚                                                                  â”‚
â”‚  $ git add .                                                     â”‚
â”‚  $ git commit -m "chore: update nginx image to v2.0"            â”‚
â”‚  $ git push                                                      â”‚
â”‚                                                                  â”‚
â”‚  Git Repository:                                                 â”‚
â”‚  âœ… New commit recorded with timestamp & author                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: ARGOCD DETECTS CHANGE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Timing: ~3 seconds (default polling interval)                  â”‚
â”‚                                                                  â”‚
â”‚  ArgoCD processes:                                               â”‚
â”‚  â”œâ”€â”€ repo-server fetches latest from Git                        â”‚
â”‚  â”œâ”€â”€ Parses YAML manifests                                      â”‚
â”‚  â”œâ”€â”€ Renders/builds final manifests (Kustomize/Helm)           â”‚
â”‚  â””â”€â”€ Returns to application-controller                          â”‚
â”‚                                                                  â”‚
â”‚  Status: â³ Detecting...                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: COMPARE STATES (Diff)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Desired State (from Git):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Deployment: nginx-demo                                  â”‚  â”‚
â”‚  â”‚ â””â”€â”€ containers[0].image: nginx:2.0                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Actual State (from Cluster):                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Deployment: nginx-demo                                  â”‚  â”‚
â”‚  â”‚ â””â”€â”€ containers[0].image: nginx:1.19  â† OUTDATED         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Result: ğŸŸ¡ OutOfSync (Differences detected)                    â”‚
â”‚                                                                  â”‚
â”‚  Diff details:                                                   â”‚
â”‚  â””â”€â”€ containers[0].image changed: nginx:1.19 â†’ nginx:2.0       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: SYNC (Auto-Sync enabled)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Application Controller triggers sync:                           â”‚
â”‚                                                                  â”‚
â”‚  $ kubectl apply -f <generated-manifests>                       â”‚
â”‚                                                                  â”‚
â”‚  Kubernetes processes:                                           â”‚
â”‚  â”œâ”€â”€ Deployment controller detects image change                â”‚
â”‚  â”œâ”€â”€ Triggers rolling update strategy                           â”‚
â”‚  â”‚   â”œâ”€â”€ New ReplicaSet created with nginx:2.0               â”‚
â”‚  â”‚   â”œâ”€â”€ New Pods start (nginx:2.0)                          â”‚
â”‚  â”‚   â”œâ”€â”€ Old Pods drain gradually (nginx:1.19)               â”‚
â”‚  â”‚   â””â”€â”€ Remove old Pods when new ones healthy               â”‚
â”‚  â””â”€â”€ Service routes traffic to new Pods                         â”‚
â”‚                                                                  â”‚
â”‚  Progress:                                                       â”‚
â”‚  â””â”€ 0s:   1 old Pod running (nginx:1.19)                       â”‚
â”‚  â””â”€ 5s:   1 new Pod starting (nginx:2.0)                       â”‚
â”‚  â””â”€ 15s:  1 new Pod healthy, old Pod terminating               â”‚
â”‚  â””â”€ 20s:  All Pods running nginx:2.0                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: VERIFY & UPDATE STATUS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ArgoCD Health Check:                                            â”‚
â”‚  â”œâ”€â”€ All Pods Ready? âœ… YES                                    â”‚
â”‚  â”œâ”€â”€ All Replicas Running? âœ… YES                              â”‚
â”‚  â”œâ”€â”€ Service endpoints active? âœ… YES                          â”‚
â”‚  â””â”€â”€ Status: ğŸŸ¢ Healthy                                         â”‚
â”‚                                                                  â”‚
â”‚  Compare again:                                                  â”‚
â”‚  â””â”€ Git (image: nginx:2.0) = Cluster (image: nginx:2.0) âœ…   â”‚
â”‚  â””â”€ Status: ğŸŸ¢ Synced                                           â”‚
â”‚                                                                  â”‚
â”‚  ArgoCD UI Updates:                                              â”‚
â”‚  â”œâ”€â”€ Status badge changes from ğŸŸ¡ â†’ ğŸŸ¢                         â”‚
â”‚  â”œâ”€â”€ Health shows: Healthy                                      â”‚
â”‚  â”œâ”€â”€ Last sync time updated                                     â”‚
â”‚  â”œâ”€â”€ Resource tree refreshed                                    â”‚
â”‚  â””â”€â”€ Logs show sync completed successfully                      â”‚
â”‚                                                                  â”‚
â”‚  User sees on UI:                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ App: nginx-demo                                         â”‚  â”‚
â”‚  â”‚ Status: ğŸŸ¢ Synced                                        â”‚  â”‚
â”‚  â”‚ Health: ğŸŸ¢ Healthy                                       â”‚  â”‚
â”‚  â”‚ Last synced: 2 seconds ago                              â”‚  â”‚
â”‚  â”‚ Deployment: Ready 1/1                                   â”‚  â”‚
â”‚  â”‚ Pods: 2 running (nginx:2.0)                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   ğŸš€ DEPLOYMENT COMPLETE
                      USERS SEE NEW VERSION
```

---

## ğŸš¨ Scenario: OutOfSync Handling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AUTO-SYNC DISABLED (Manual Sync)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Git change detected â†’ OutOfSync status ğŸŸ¡                      â”‚
â”‚  BUT: No automatic deployment                                   â”‚
â”‚                                                                  â”‚
â”‚  User must:                                                      â”‚
â”‚  â”œâ”€â”€ Review change on UI / in Git PR                            â”‚
â”‚  â”œâ”€â”€ Approve (merge PR if using)                                â”‚
â”‚  â”œâ”€â”€ Click "SYNC" button on ArgoCD UI                           â”‚
â”‚  â”‚   OR run: argocd app sync myapp                              â”‚
â”‚  â””â”€â”€ Then deployment happens                                    â”‚
â”‚                                                                  â”‚
â”‚  Advantage: More control, safety gates                          â”‚
â”‚  Disadvantage: Manual work, slower                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¥ Scenario: Manual Change to Cluster (selfHeal)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SOMEONE MANUALLY CHANGES CLUSTER (BAD PRACTICE)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  User runs:                                                      â”‚
â”‚  $ kubectl scale deployment nginx-demo --replicas=5            â”‚
â”‚                                                                  â”‚
â”‚  Cluster now has:                                                â”‚
â”‚  â”œâ”€â”€ Actual state: 5 replicas (2.0)                             â”‚
â”‚  â””â”€â”€ Git state: 2 replicas (2.0)  â† OUTDATED NOW               â”‚
â”‚                                                                  â”‚
â”‚  ArgoCD detects (next polling cycle, ~3s):                      â”‚
â”‚  â””â”€ State mismatch! Actual â‰  Desired                            â”‚
â”‚                                                                  â”‚
â”‚  If selfHeal: true (default):                                    â”‚
â”‚  â”œâ”€â”€ ArgoCD automatically revert:                               â”‚
â”‚  â”‚   $ kubectl scale deployment nginx-demo --replicas=2        â”‚
â”‚  â”œâ”€â”€ Cluster back to Git state: 2 replicas                      â”‚
â”‚  â””â”€ Status: Back to ğŸŸ¢ Synced                                   â”‚
â”‚                                                                  â”‚
â”‚  If selfHeal: false:                                             â”‚
â”‚  â”œâ”€â”€ ArgoCD just reports: ğŸŸ¡ OutOfSync                          â”‚
â”‚  â”œâ”€â”€ Manual intervention required                               â”‚
â”‚  â””â”€ User must sync manually                                      â”‚
â”‚                                                                  â”‚
â”‚  Why selfHeal important:                                         â”‚
â”‚  â”œâ”€â”€ Prevents configuration drift                               â”‚
â”‚  â”œâ”€â”€ Ensures Git is always source of truth                      â”‚
â”‚  â””â”€â”€ Catches accidental changes                                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Pull vs Push Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRADITIONAL: PUSH-BASED                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ CI/CD Sys â”‚                                                   â”‚
â”‚  â”‚ (Jenkins) â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚        â”‚ Actively pushes                                          â”‚
â”‚        â”‚ kubectl apply                                            â”‚
â”‚        â–¼                                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚    â”‚   Cluster    â”‚                                              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                  â”‚
â”‚  Problems:                                                        â”‚
â”‚  â”œâ”€â”€ CI/CD has direct access (security risk)                    â”‚
â”‚  â”œâ”€â”€ If CI/CD down, nothing deploys                             â”‚
â”‚  â”œâ”€â”€ Hard to audit "who pushed what"                            â”‚
â”‚  â”œâ”€â”€ Multi-cluster becomes complex                              â”‚
â”‚  â””â”€â”€ No easy rollback mechanism                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GITOPS: PULL-BASED (ArgoCD)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚    Git    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚   ArgoCD      â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Cluster    â”‚â”‚
â”‚  â”‚ (Single   â”‚ Watch   â”‚ (Inside K8s)  â”‚ Apply  â”‚              â”‚â”‚
â”‚  â”‚ Source of â”‚ for     â”‚ Pull model    â”‚ YAML   â”‚              â”‚â”‚
â”‚  â”‚ Truth)   â”‚ changes â”‚               â”‚        â”‚              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  Benefits:                                                        â”‚
â”‚  â”œâ”€â”€ Git is the control center (declarative)                    â”‚
â”‚  â”œâ”€â”€ ArgoCD inside cluster (more secure)                        â”‚
â”‚  â”œâ”€â”€ Cluster pulls desired state (safer)                        â”‚
â”‚  â”œâ”€â”€ Audit trail in Git (who, what, when)                      â”‚
â”‚  â”œâ”€â”€ Easy rollback (git revert)                                 â”‚
â”‚  â”œâ”€â”€ Multi-cluster easy (multiple agents)                       â”‚
â”‚  â”œâ”€â”€ Disaster recovery simple (repo is everything)             â”‚
â”‚  â””â”€â”€ Better compliance & visibility                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Repository Structure Comparison

### âŒ Bad Structure
```
repo/
â”œâ”€â”€ deployment.yaml
â”œâ”€â”€ service.yaml
â”œâ”€â”€ configmap.yaml
â”œâ”€â”€ secret.yaml
â””â”€â”€ kustomization.yaml
```
Problem: Tidak biáº¿t app nÃ o, environment nÃ o

### âœ… Good Structure
```
repo/
â”œâ”€â”€ README.md
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ SETUP.md
â”‚   â””â”€â”€ TROUBLESHOOTING.md
â”œâ”€â”€ apps/                          # Applications
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â””â”€â”€ configmap.yaml
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â”œâ”€â”€ configmap.yaml
â”‚   â”‚   â””â”€â”€ secrets.yaml (NEVER!)
â”‚   â””â”€â”€ database/
â”‚       â”œâ”€â”€ statefulset.yaml
â”‚       â””â”€â”€ pvc.yaml
â”œâ”€â”€ kustomize/                     # Kustomize templates
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”‚   â”œâ”€â”€ service.yaml
â”‚   â”‚   â””â”€â”€ kustomization.yaml
â”‚   â””â”€â”€ overlays/
â”‚       â”œâ”€â”€ dev/
â”‚       â”‚   â”œâ”€â”€ kustomization.yaml
â”‚       â”‚   â””â”€â”€ patches/
â”‚       â”œâ”€â”€ staging/
â”‚       â”‚   â””â”€â”€ kustomization.yaml
â”‚       â””â”€â”€ prod/
â”‚           â””â”€â”€ kustomization.yaml
â”œâ”€â”€ helm-charts/                   # Helm charts
â”‚   â”œâ”€â”€ myapp/
â”‚   â”‚   â”œâ”€â”€ Chart.yaml
â”‚   â”‚   â”œâ”€â”€ values.yaml
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ values-prod.yaml
â”‚   â””â”€â”€ database/
â”œâ”€â”€ argocd-apps/                   # ArgoCD Application definitions
â”‚   â”œâ”€â”€ frontend-app.yaml
â”‚   â”œâ”€â”€ backend-app.yaml
â”‚   â”œâ”€â”€ database-app.yaml
â”‚   â”œâ”€â”€ frontend-dev.yaml
â”‚   â”œâ”€â”€ frontend-prod.yaml
â”‚   â””â”€â”€ kustomization.yaml
â””â”€â”€ scripts/                        # Helper scripts
    â”œâ”€â”€ setup.sh
    â”œâ”€â”€ deploy.sh
    â””â”€â”€ cleanup.sh
```

---

## ğŸ”„ Application Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application Created (kubectl apply)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Fetching Git Repo â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Rendering Manifestsâ”‚ (Kustomize/Helm)
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Comparing States  â”‚
         â”‚ Git â”€â”€ Cluster    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ OutOfSync or Synced? â”‚
         â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
            â”‚              â”‚
        OutOfSync      Synced
            â”‚              â”‚
            â–¼              â””â”€â–º ğŸŸ¢ Synced (App ready)
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â–º â³ Monitor continuously
         â”‚ Auto-Sync?    â”‚
         â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚      â”‚
           Yes     No
            â”‚      â”‚
            â–¼      â””â”€â–º ğŸŸ¡ OutOfSync (Manual needed)
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Apply changes â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Health check     â”‚
         â”‚ â”œâ”€â”€ Pods ready?  â”‚
         â”‚ â”œâ”€â”€ Services up? â”‚
         â”‚ â””â”€â”€ Endpoints?   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ ğŸŸ¢ Healthy/Synced  â”‚
         â”‚ Ready to use!      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š State Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Combination of Sync & Health Status                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  SYNC STATE    HEALTH STATE    STATUS        ACTION    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Synced    +    Healthy     = âœ… OK          None     â”‚
â”‚  Synced    +    Degraded    = âš ï¸  Warning    Monitor  â”‚
â”‚  Synced    +    Unhealthy   = ğŸ”´ Error       Debug    â”‚
â”‚  OutOfSync +    Any         = ğŸŸ¡ Action      Sync     â”‚
â”‚                                                          â”‚
â”‚  Best status: ğŸŸ¢ Synced + ğŸŸ¢ Healthy                   â”‚
â”‚  Action needed: ğŸŸ¡ OutOfSync or Unhealthy              â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Learning Path Visualization

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ï¸âƒ£  Core Concepts               â”‚
â”‚ â”œâ”€â”€ What is GitOps?             â”‚
â”‚ â”œâ”€â”€ Why ArgoCD?                 â”‚
â”‚ â”œâ”€â”€ Pull vs Push                â”‚
â”‚ â””â”€â”€ Git = Source of Truth       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ï¸âƒ£  Architecture                â”‚
â”‚ â”œâ”€â”€ Components                  â”‚
â”‚ â”œâ”€â”€ How they communicate        â”‚
â”‚ â”œâ”€â”€ Workflow basics             â”‚
â”‚ â””â”€â”€ Sync process                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ï¸âƒ£  Hands-On Practice           â”‚
â”‚ â”œâ”€â”€ Deploy first app            â”‚
â”‚ â”œâ”€â”€ Manual changes              â”‚
â”‚ â”œâ”€â”€ Update manifests            â”‚
â”‚ â””â”€â”€ See auto-sync               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4ï¸âƒ£  Advanced Topics             â”‚
â”‚ â”œâ”€â”€ Kustomize & Helm            â”‚
â”‚ â”œâ”€â”€ Multi-env management        â”‚
â”‚ â”œâ”€â”€ Sealed Secrets              â”‚
â”‚ â””â”€â”€ Webhooks                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5ï¸âƒ£  Production Ready            â”‚
â”‚ â”œâ”€â”€ Best practices              â”‚
â”‚ â”œâ”€â”€ Monitoring & logging        â”‚
â”‚ â”œâ”€â”€ Disaster recovery           â”‚
â”‚ â””â”€â”€ Multi-cluster setup         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
 MASTERY ğŸ¯

Currently you are at: Step 2-3 (Understanding Architecture)
Next: Hands-on practice!
```

---

**Ghi chÃº:** Nhá»¯ng sÆ¡ Ä‘á»“ nÃ y giÃºp báº¡n visualize cÃ¡ch ArgoCD hoáº¡t Ä‘á»™ng. Äá»«ng quÃªn quay láº¡i nhá»¯ng bÃ i táº­p thá»±c hÃ nh! ğŸš€
